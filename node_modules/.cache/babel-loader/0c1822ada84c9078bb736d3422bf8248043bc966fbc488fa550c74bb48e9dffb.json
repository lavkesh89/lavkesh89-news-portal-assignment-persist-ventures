{"ast":null,"code":"import _regeneratorRuntime from\"C:/Recovery/backuprecovery/OneDrive/Desktop/react-news-app-master/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Recovery/backuprecovery/OneDrive/Desktop/react-news-app-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Recovery/backuprecovery/OneDrive/Desktop/react-news-app-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import NullImage from\"../../components/Images/nullImage.png\";import Loading from\"../Loading/Loading\";import NewsItem from\"../NewsItem/NewsItem\";import{v4 as uuidv4}from\"uuid\";import{Col,Row}from\"react-bootstrap\";import{header}from\"../../config/config\";import{endpointPath}from\"../../config/api\";import{Container,Header,card}from\"./index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function News(props){var newscategory=props.newscategory,country=props.country,currentPage=props.currentPage;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),articles=_useState2[0],setArticles=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var capitaLize=function capitaLize(string){return string.charAt(0).toUpperCase()+string.slice(1);};var category=newscategory;var title=capitaLize(category);document.title=\"\".concat(capitaLize(title),\" - News\");var updatenews=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,parsedData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);_context.next=4;return axios.get(endpointPath(country,category,currentPage));case 4:response=_context.sent;// Pass currentPage to endpointPath\nparsedData=response.data;setArticles(parsedData.articles);setLoading(false);_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0);setLoading(false);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function updatenews(){return _ref.apply(this,arguments);};}();useEffect(function(){updatenews();// eslint-disable-next-line\n},[newscategory,country,currentPage]);// Re-fetch data when category, country, or currentPage changes\nreturn/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{children:header(capitaLize(category))}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:articles.map(function(element){return/*#__PURE__*/_jsx(Col,{sm:12,md:6,lg:4,xl:3,style:card,children:/*#__PURE__*/_jsx(NewsItem,{title:element.title,description:element.description,published:element.publishedAt,channel:element.source.name,alt:\"News image\",publishedAt:element.publishedAt,imageUrl:element.image===null?NullImage:element.image,urlNews:element.url})},uuidv4());})})})]})});}News.defaultProps={country:\"us\",newscategory:\"general\",currentPage:1// Default page to 1\n};export default News;","map":{"version":3,"names":["React","useEffect","useState","axios","NullImage","Loading","NewsItem","v4","uuidv4","Col","Row","header","endpointPath","Container","Header","card","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","News","props","newscategory","country","currentPage","_useState","_useState2","_slicedToArray","articles","setArticles","_useState3","_useState4","loading","setLoading","capitaLize","string","charAt","toUpperCase","slice","category","title","document","concat","updatenews","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","parsedData","wrap","_callee$","_context","prev","next","get","sent","data","t0","console","error","stop","apply","arguments","children","map","element","sm","md","lg","xl","style","description","published","publishedAt","channel","source","name","alt","imageUrl","image","urlNews","url","defaultProps"],"sources":["C:/Recovery/backuprecovery/OneDrive/Desktop/react-news-app-master/src/components/News/News.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport PropTypes from \"prop-types\";\nimport NullImage from \"../../components/Images/nullImage.png\";\nimport Loading from \"../Loading/Loading\";\nimport NewsItem from \"../NewsItem/NewsItem\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { Col, Row } from \"react-bootstrap\";\nimport { header } from \"../../config/config\";\nimport { endpointPath } from \"../../config/api\";\nimport { Container, Header, card } from \"./index\";\n\nfunction News(props) {\n  const { newscategory, country, currentPage } = props;\n  const [articles, setArticles] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const capitaLize = (string) => {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  };\n\n  const category = newscategory;\n  const title = capitaLize(category);\n  document.title = `${capitaLize(title)} - News`;\n\n  const updatenews = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get(endpointPath(country, category, currentPage)); // Pass currentPage to endpointPath\n      const parsedData = response.data;\n      setArticles(parsedData.articles);\n      setLoading(false);\n    } catch (error) {\n      console.error(error);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    updatenews();\n    // eslint-disable-next-line\n  }, [newscategory, country, currentPage]); // Re-fetch data when category, country, or currentPage changes\n\n  return (\n    <>\n      {loading ? (\n        <Loading />\n      ) : (\n        <>\n          <Header>{header(capitaLize(category))}</Header>\n          <Container>\n            <Row>\n              {articles.map((element) => {\n                return (\n                  <Col sm={12} md={6} lg={4} xl={3} style={card} key={uuidv4()}>\n                    <NewsItem\n                      title={element.title}\n                      description={element.description}\n                      published={element.publishedAt}\n                      channel={element.source.name}\n                      alt=\"News image\"\n                      publishedAt={element.publishedAt}\n                      imageUrl={\n                        element.image === null ? NullImage : element.image\n                      }\n                      urlNews={element.url}\n                    />\n                  </Col>\n                );\n              })}\n            </Row>\n          </Container>\n        </>\n      )}\n    </>\n  );\n}\n\nNews.defaultProps = {\n  country: \"us\",\n  newscategory: \"general\",\n  currentPage: 1, // Default page to 1\n};\n\nNews.propTypes = {\n  country: PropTypes.string,\n  newscategory: PropTypes.string,\n  currentPage: PropTypes.number,\n};\n\nexport default News;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}