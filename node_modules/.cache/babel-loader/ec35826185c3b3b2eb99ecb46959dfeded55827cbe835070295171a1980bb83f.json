{"ast":null,"code":"import _slicedToArray from\"C:/Recovery/backuprecovery/OneDrive/Desktop/react-news-app-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{v4 as uuidv4}from\"uuid\";import Loading from\"../Loading/Loading\";import NewsItem from\"../NewsItem/NewsItem\";import NullImage from\"../../components/Images/nullImage.png\";import{useDispatch,useSelector}from\"react-redux\";import{searchArticle}from\"../../store/action\";import{useParams}from\"react-router-dom\";import{Col,Row}from\"react-bootstrap\";import{header,noFound,searching}from\"../../config/config\";import{Container,Header,card}from\"./index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Search(){var _articles$articles;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchQuery=_useState2[0],setSearchQuery=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),totalArticles=_useState4[0],setTotalArticle=_useState4[1];var _useSelector=useSelector(function(state){return state.search;}),articles=_useSelector.articles,loading=_useSelector.loading;var _useParams=useParams(),query=_useParams.query;var dispatch=useDispatch();useEffect(function(){dispatch(searchArticle(query));},[query,dispatch]);useEffect(function(){setSearchQuery(query);setTotalArticle(articles.totalArticles);},[query,articles]);var capitaLize=function capitaLize(string){return string.charAt(0).toUpperCase()+string.slice(1);};document.title=totalArticles===0?noFound:loading?searching:\"\".concat(capitaLize(searchQuery),\" - News\");return/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{children:totalArticles===0?noFound:header(capitaLize(searchQuery))}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:articles===null||articles===void 0?void 0:(_articles$articles=articles.articles)===null||_articles$articles===void 0?void 0:_articles$articles.map(function(element){return/*#__PURE__*/_jsx(Col,{sm:12,md:6,lg:4,xl:3,style:card,children:/*#__PURE__*/_jsx(NewsItem,{title:element.title,description:element.description,published:element.publishedAt,channel:element.source.name,alt:\"News image\",publishedAt:element.publishedAt,imageUrl:element.image===null?NullImage:element.image,urlNews:element.url})},uuidv4());})})})]})});}export default Search;","map":{"version":3,"names":["React","useEffect","useState","v4","uuidv4","Loading","NewsItem","NullImage","useDispatch","useSelector","searchArticle","useParams","Col","Row","header","noFound","searching","Container","Header","card","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Search","_articles$articles","_useState","_useState2","_slicedToArray","searchQuery","setSearchQuery","_useState3","_useState4","totalArticles","setTotalArticle","_useSelector","state","search","articles","loading","_useParams","query","dispatch","capitaLize","string","charAt","toUpperCase","slice","document","title","concat","children","map","element","sm","md","lg","xl","style","description","published","publishedAt","channel","source","name","alt","imageUrl","image","urlNews","url"],"sources":["C:/Recovery/backuprecovery/OneDrive/Desktop/react-news-app-master/src/components/Search/Search.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Loading from \"../Loading/Loading\";\nimport NewsItem from \"../NewsItem/NewsItem\";\nimport NullImage from \"../../components/Images/nullImage.png\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { searchArticle } from \"../../store/action\";\nimport { useParams } from \"react-router-dom\";\nimport { Col, Row } from \"react-bootstrap\";\nimport { header, noFound, searching } from \"../../config/config\";\nimport { Container, Header, card } from \"./index\";\n\nfunction Search() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [totalArticles, setTotalArticle] = useState(0);\n  const { articles, loading } = useSelector((state) => state.search);\n  const { query } = useParams();\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(searchArticle(query));\n  }, [query, dispatch]);\n\n  useEffect(() => {\n    setSearchQuery(query);\n    setTotalArticle(articles.totalArticles);\n  }, [query, articles]);\n\n  const capitaLize = (string) => {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  };\n\n  document.title =\n    totalArticles === 0\n      ? noFound\n      : loading\n      ? searching\n      : `${capitaLize(searchQuery)} - News`;\n\n  return (\n    <>\n      {loading ? (\n        <Loading />\n      ) : (\n        <>\n          <Header>\n            {totalArticles === 0 ? noFound : header(capitaLize(searchQuery))}\n          </Header>\n          <Container>\n            <Row>\n              {articles?.articles?.map((element) => {\n                return (\n                  <Col sm={12} md={6} lg={4} xl={3} style={card} key={uuidv4()}>\n                    <NewsItem\n                      title={element.title}\n                      description={element.description}\n                      published={element.publishedAt}\n                      channel={element.source.name}\n                      alt=\"News image\"\n                      publishedAt={element.publishedAt}\n                      imageUrl={\n                        element.image === null ? NullImage : element.image\n                      }\n                      urlNews={element.url}\n                    />\n                  </Col>\n                );\n              })}\n            </Row>\n          </Container>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default Search;\n"],"mappings":"uJAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,EAAE,GAAI,CAAAC,MAAM,KAAQ,MAAM,CACnC,MAAO,CAAAC,OAAO,KAAM,oBAAoB,CACxC,MAAO,CAAAC,QAAQ,KAAM,sBAAsB,CAC3C,MAAO,CAAAC,SAAS,KAAM,uCAAuC,CAC7D,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,aAAa,KAAQ,oBAAoB,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,GAAG,CAAEC,GAAG,KAAQ,iBAAiB,CAC1C,OAASC,MAAM,CAAEC,OAAO,CAAEC,SAAS,KAAQ,qBAAqB,CAChE,OAASC,SAAS,CAAEC,MAAM,CAAEC,IAAI,KAAQ,SAAS,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElD,QAAS,CAAAC,MAAMA,CAAA,CAAG,KAAAC,kBAAA,CAChB,IAAAC,SAAA,CAAsC1B,QAAQ,CAAC,EAAE,CAAC,CAAA2B,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3CG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAClC,IAAAI,UAAA,CAAyC/B,QAAQ,CAAC,CAAC,CAAC,CAAAgC,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA7CE,aAAa,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IACrC,IAAAG,YAAA,CAA8B5B,WAAW,CAAC,SAAC6B,KAAK,QAAK,CAAAA,KAAK,CAACC,MAAM,GAAC,CAA1DC,QAAQ,CAAAH,YAAA,CAARG,QAAQ,CAAEC,OAAO,CAAAJ,YAAA,CAAPI,OAAO,CACzB,IAAAC,UAAA,CAAkB/B,SAAS,CAAC,CAAC,CAArBgC,KAAK,CAAAD,UAAA,CAALC,KAAK,CAEb,GAAM,CAAAC,QAAQ,CAAGpC,WAAW,CAAC,CAAC,CAE9BP,SAAS,CAAC,UAAM,CACd2C,QAAQ,CAAClC,aAAa,CAACiC,KAAK,CAAC,CAAC,CAChC,CAAC,CAAE,CAACA,KAAK,CAAEC,QAAQ,CAAC,CAAC,CAErB3C,SAAS,CAAC,UAAM,CACd+B,cAAc,CAACW,KAAK,CAAC,CACrBP,eAAe,CAACI,QAAQ,CAACL,aAAa,CAAC,CACzC,CAAC,CAAE,CAACQ,KAAK,CAAEH,QAAQ,CAAC,CAAC,CAErB,GAAM,CAAAK,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIC,MAAM,CAAK,CAC7B,MAAO,CAAAA,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAGF,MAAM,CAACG,KAAK,CAAC,CAAC,CAAC,CACzD,CAAC,CAEDC,QAAQ,CAACC,KAAK,CACZhB,aAAa,GAAK,CAAC,CACfpB,OAAO,CACP0B,OAAO,CACPzB,SAAS,IAAAoC,MAAA,CACNP,UAAU,CAACd,WAAW,CAAC,WAAS,CAEzC,mBACEV,IAAA,CAAAE,SAAA,EAAA8B,QAAA,CACGZ,OAAO,cACNpB,IAAA,CAAChB,OAAO,GAAE,CAAC,cAEXoB,KAAA,CAAAF,SAAA,EAAA8B,QAAA,eACEhC,IAAA,CAACH,MAAM,EAAAmC,QAAA,CACJlB,aAAa,GAAK,CAAC,CAAGpB,OAAO,CAAGD,MAAM,CAAC+B,UAAU,CAACd,WAAW,CAAC,CAAC,CAC1D,CAAC,cACTV,IAAA,CAACJ,SAAS,EAAAoC,QAAA,cACRhC,IAAA,CAACR,GAAG,EAAAwC,QAAA,CACDb,QAAQ,SAARA,QAAQ,kBAAAb,kBAAA,CAARa,QAAQ,CAAEA,QAAQ,UAAAb,kBAAA,iBAAlBA,kBAAA,CAAoB2B,GAAG,CAAC,SAACC,OAAO,CAAK,CACpC,mBACElC,IAAA,CAACT,GAAG,EAAC4C,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,CAACC,KAAK,CAAEzC,IAAK,CAAAkC,QAAA,cAC5ChC,IAAA,CAACf,QAAQ,EACP6C,KAAK,CAAEI,OAAO,CAACJ,KAAM,CACrBU,WAAW,CAAEN,OAAO,CAACM,WAAY,CACjCC,SAAS,CAAEP,OAAO,CAACQ,WAAY,CAC/BC,OAAO,CAAET,OAAO,CAACU,MAAM,CAACC,IAAK,CAC7BC,GAAG,CAAC,YAAY,CAChBJ,WAAW,CAAER,OAAO,CAACQ,WAAY,CACjCK,QAAQ,CACNb,OAAO,CAACc,KAAK,GAAK,IAAI,CAAG9D,SAAS,CAAGgD,OAAO,CAACc,KAC9C,CACDC,OAAO,CAAEf,OAAO,CAACgB,GAAI,CACtB,CAAC,EAZgDnE,MAAM,CAAC,CAatD,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,CACG,CAAC,EACZ,CACH,CACD,CAAC,CAEP,CAEA,cAAe,CAAAsB,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}